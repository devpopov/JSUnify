(function(e){"use strict";function m(e,t){if(!e)throw new Error("ASSERT: "+t)}function g(e,t){return u.slice(e,t)}function y(e){return"0123456789".indexOf(e)>=0}function b(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function w(e){return"01234567".indexOf(e)>=0}function E(e){return e===" "||e==="	"||e===""||e==="\f"||e===" "||e.charCodeAt(0)>=5760&&" ᠎             　﻿".indexOf(e)>=0}function S(e){return e==="\n"||e==="\r"||e==="\u2028"||e==="\u2029"}function x(e){return e==="$"||e==="_"||e==="\\"||e>="a"&&e<="z"||e>="A"&&e<="Z"||e.charCodeAt(0)>=128&&o.NonAsciiIdentifierStart.test(e)}function T(e){return e==="$"||e==="_"||e==="\\"||e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e.charCodeAt(0)>=128&&o.NonAsciiIdentifierPart.test(e)}function N(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0}return!1}function C(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0}return!1}function k(e){return e==="eval"||e==="arguments"}function L(e){var t=!1;switch(e.length){case 2:t=e==="if"||e==="in"||e==="do";break;case 3:t=e==="var"||e==="for"||e==="new"||e==="try";break;case 4:t=e==="this"||e==="else"||e==="case"||e==="void"||e==="with";break;case 5:t=e==="while"||e==="break"||e==="catch"||e==="throw";break;case 6:t=e==="return"||e==="typeof"||e==="delete"||e==="switch";break;case 7:t=e==="default"||e==="finally";break;case 8:t=e==="function"||e==="continue"||e==="debugger";break;case 10:t=e==="instanceof"}if(t)return!0;switch(e){case"const":return!0;case"yield":case"let":return!0}return a&&C(e)?!0:N(e)}function A(){return u[f++]}function O(){var e,t,n;t=!1,n=!1;while(f<h){e=u[f];if(n)e=A(),S(e)&&(n=!1,e==="\r"&&u[f]==="\n"&&++f,++l,c=f);else if(t)S(e)?(e==="\r"&&u[f+1]==="\n"&&++f,++l,++f,c=f,f>=h&&U({},s.UnexpectedToken,"ILLEGAL")):(e=A(),f>=h&&U({},s.UnexpectedToken,"ILLEGAL"),e==="*"&&(e=u[f],e==="/"&&(++f,t=!1)));else if(e==="/"){e=u[f+1];if(e==="/")f+=2,n=!0;else{if(e!=="*")break;f+=2,t=!0,f>=h&&U({},s.UnexpectedToken,"ILLEGAL")}}else if(E(e))++f;else{if(!S(e))break;++f,e==="\r"&&u[f]==="\n"&&++f,++l,c=f}}}function M(e){var t,n,r,i=0;n=e==="u"?4:2;for(t=0;t<n;++t){if(!(f<h&&b(u[f])))return"";r=A(),i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function _(){var e,n,r,i;e=u[f];if(!x(e))return;n=f;if(e==="\\"){++f;if(u[f]!=="u")return;++f,i=f,e=M("u");if(e){if(e==="\\"||!x(e))return;r=e}else f=i,r="u"}else r=A();while(f<h){e=u[f];if(!T(e))break;if(e==="\\"){++f;if(u[f]!=="u")return;++f,i=f,e=M("u");if(e){if(e==="\\"||!T(e))return;r+=e}else f=i,r+="u"}else r+=A()}return r.length===1?{type:t.Identifier,value:r,lineNumber:l,lineStart:c,range:[n,f]}:L(r)?{type:t.Keyword,value:r,lineNumber:l,lineStart:c,range:[n,f]}:r==="null"?{type:t.NullLiteral,value:r,lineNumber:l,lineStart:c,range:[n,f]}:r==="true"||r==="false"?{type:t.BooleanLiteral,value:r,lineNumber:l,lineStart:c,range:[n,f]}:{type:t.Identifier,value:r,lineNumber:l,lineStart:c,range:[n,f]}}function D(){var e=f,n=u[f],r,i,s;if(n===";"||n==="{"||n==="}")return++f,{type:t.Punctuator,value:n,lineNumber:l,lineStart:c,range:[e,f]};if(n===","||n==="("||n===")")return++f,{type:t.Punctuator,value:n,lineNumber:l,lineStart:c,range:[e,f]};r=u[f+1];if(n==="."&&!y(r))return{type:t.Punctuator,value:A(),lineNumber:l,lineStart:c,range:[e,f]};i=u[f+2],s=u[f+3];if(n===">"&&r===">"&&i===">"&&s==="=")return f+=4,{type:t.Punctuator,value:">>>=",lineNumber:l,lineStart:c,range:[e,f]};if(n==="="&&r==="="&&i==="=")return f+=3,{type:t.Punctuator,value:"===",lineNumber:l,lineStart:c,range:[e,f]};if(n==="!"&&r==="="&&i==="=")return f+=3,{type:t.Punctuator,value:"!==",lineNumber:l,lineStart:c,range:[e,f]};if(n===">"&&r===">"&&i===">")return f+=3,{type:t.Punctuator,value:">>>",lineNumber:l,lineStart:c,range:[e,f]};if(n==="<"&&r==="<"&&i==="=")return f+=3,{type:t.Punctuator,value:"<<=",lineNumber:l,lineStart:c,range:[e,f]};if(n===">"&&r===">"&&i==="=")return f+=3,{type:t.Punctuator,value:">>=",lineNumber:l,lineStart:c,range:[e,f]};if(r==="="&&"<>=!+-*%&|^/".indexOf(n)>=0)return f+=2,{type:t.Punctuator,value:n+r,lineNumber:l,lineStart:c,range:[e,f]};if(n===r&&"+-<>&|".indexOf(n)>=0&&"+-<>&|".indexOf(r)>=0)return f+=2,{type:t.Punctuator,value:n+r,lineNumber:l,lineStart:c,range:[e,f]};if("[]<>+-*%&|^!~?:=/".indexOf(n)>=0)return{type:t.Punctuator,value:A(),lineNumber:l,lineStart:c,range:[e,f]}}function P(){var e,n,r;r=u[f],m(y(r)||r===".","Numeric literal must start with a decimal digit or a decimal point"),n=f,e="";if(r!=="."){e=A(),r=u[f];if(e==="0"){if(r==="x"||r==="X"){e+=A();while(f<h){r=u[f];if(!b(r))break;e+=A()}return e.length<=2&&U({},s.UnexpectedToken,"ILLEGAL"),f<h&&(r=u[f],x(r)&&U({},s.UnexpectedToken,"ILLEGAL")),{type:t.NumericLiteral,value:parseInt(e,16),lineNumber:l,lineStart:c,range:[n,f]}}if(w(r)){e+=A();while(f<h){r=u[f];if(!w(r))break;e+=A()}return f<h&&(r=u[f],(x(r)||y(r))&&U({},s.UnexpectedToken,"ILLEGAL")),{type:t.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:l,lineStart:c,range:[n,f]}}y(r)&&U({},s.UnexpectedToken,"ILLEGAL")}while(f<h){r=u[f];if(!y(r))break;e+=A()}}if(r==="."){e+=A();while(f<h){r=u[f];if(!y(r))break;e+=A()}}if(r==="e"||r==="E"){e+=A(),r=u[f];if(r==="+"||r==="-")e+=A();r=u[f];if(y(r)){e+=A();while(f<h){r=u[f];if(!y(r))break;e+=A()}}else r="character "+r,f>=h&&(r="<end>"),U({},s.UnexpectedToken,"ILLEGAL")}return f<h&&(r=u[f],x(r)&&U({},s.UnexpectedToken,"ILLEGAL")),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:l,lineStart:c,range:[n,f]}}function H(){var e="",n,r,i,o,a,p,d=!1;n=u[f],m(n==="'"||n==='"',"String literal must starts with a quote"),r=f,++f;while(f<h){i=A();if(i===n){n="";break}if(i==="\\"){i=A();if(!S(i))switch(i){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="	";break;case"u":case"x":p=f,a=M(i),a?e+=a:(f=p,e+=i);break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;default:w(i)?(o="01234567".indexOf(i),o!==0&&(d=!0),f<h&&w(u[f])&&(d=!0,o=o*8+"01234567".indexOf(A()),"0123".indexOf(i)>=0&&f<h&&w(u[f])&&(o=o*8+"01234567".indexOf(A()))),e+=String.fromCharCode(o)):e+=i}else++l,i==="\r"&&u[f]==="\n"&&++f}else{if(S(i))break;e+=i}}return n!==""&&U({},s.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:e,octal:d,lineNumber:l,lineStart:c,range:[r,f]}}function B(){var e="",t,n,r,i,o,a=!1,l;p=null,O(),n=f,t=u[f],m(t==="/","Regular expression literal must start with a slash"),e=A();while(f<h){t=A(),e+=t;if(a)t==="]"&&(a=!1);else if(t==="\\")t=A(),S(t)&&U({},s.UnterminatedRegExp),e+=t;else{if(t==="/")break;t==="["?a=!0:S(t)&&U({},s.UnterminatedRegExp)}}e.length===1&&U({},s.UnterminatedRegExp),r=e.substr(1,e.length-2),i="";while(f<h){t=u[f];if(!T(t))break;++f;if(t==="\\"&&f<h){t=u[f];if(t==="u"){++f,l=f,t=M("u");if(t){i+=t,e+="\\u";for(;l<f;++l)e+=u[l]}else f=l,i+="u",e+="\\u"}else e+="\\"}else i+=t,e+=t}try{o=new RegExp(r,i)}catch(c){U({},s.InvalidRegExp)}return{literal:e,value:o,range:[n,f]}}function j(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function F(){var e,n;O();if(f>=h)return{type:t.EOF,lineNumber:l,lineStart:c,range:[f,f]};n=D();if(typeof n!="undefined")return n;e=u[f];if(e==="'"||e==='"')return H();if(e==="."||y(e))return P();n=_();if(typeof n!="undefined")return n;U({},s.UnexpectedToken,"ILLEGAL")}function I(){var e;return p?(f=p.range[1],l=p.lineNumber,c=p.lineStart,e=p,p=null,e):(p=null,F())}function q(){var e,t,n;return p!==null?p:(e=f,t=l,n=c,p=F(),f=e,l=t,c=n,p)}function R(){var e,t,n,r;return e=f,t=l,n=c,O(),r=l!==t,f=e,l=t,c=n,r}function U(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return r[t]||""});throw typeof e.lineNumber=="number"?(n=new Error("Line "+e.lineNumber+": "+i),n.index=e.range[0],n.lineNumber=e.lineNumber,n.column=e.range[0]-c+1):(n=new Error("Line "+l+": "+i),n.index=f,n.lineNumber=l,n.column=f-c+1),n}function z(){var e;try{U.apply(null,arguments)}catch(t){if(!v.errors)throw t;v.errors.push(t)}}function W(e){var n;e.type===t.EOF&&U(e,s.UnexpectedEOS),e.type===t.NumericLiteral&&U(e,s.UnexpectedNumber),e.type===t.StringLiteral&&U(e,s.UnexpectedString),e.type===t.Identifier&&U(e,s.UnexpectedIdentifier),e.type===t.Keyword&&(N(e.value)?U(e,s.UnexpectedReserved):a&&C(e.value)&&U(e,s.StrictReservedWord),U(e,s.UnexpectedToken,e.value)),U(e,s.UnexpectedToken,e.value)}function X(e){var n=I();(n.type!==t.Punctuator||n.value!==e)&&W(n)}function V(e){var n=I();(n.type!==t.Keyword||n.value!==e)&&W(n)}function $(e){var n=q();return n.type===t.Punctuator&&n.value===e}function J(e){var n=q();return n.type===t.Keyword&&n.value===e}function K(){var e=q(),n=e.value;return e.type!==t.Punctuator?!1:n==="="||n==="*="||n==="/="||n==="%="||n==="+="||n==="-="||n==="<<="||n===">>="||n===">>>="||n==="&="||n==="^="||n==="|="}function Q(){var e,n;if(u[f]===";"){I();return}n=l,O();if(l!==n)return;if($(";")){I();return}e=q(),e.type!==t.EOF&&!$("}")&&W(e);return}function G(e){switch(e.type){case r.Identifier:case r.MemberExpression:case r.CallExpression:return!0}return!1}function Y(){var e=[],t;X("[");while(!$("]"))$(",")?(I(),e.push(t)):(e.push(Nt()),$("]")||X(","));return X("]"),{type:r.ArrayExpression,elements:e}}function Z(e,t){var n,i;return n=a,i=Yt(),t&&a&&k(e[0].name)&&U(t,s.StrictParamName),a=n,{type:r.FunctionExpression,id:null,params:e,body:i}}function et(){var e=I();return e.type===t.StringLiteral||e.type===t.NumericLiteral?(a&&e.octal&&U(e,s.StrictOctalLiteral),fn(e)):{type:r.Identifier,name:e.value}}function tt(){var e,n,i,s;e=q();if(e.type===t.Identifier)return i=et(),e.value==="get"&&!$(":")?(n=et(),X("("),X(")"),{type:r.Property,key:n,value:Z([]),kind:"get"}):e.value==="set"&&!$(":")?(n=et(),X("("),e=q(),e.type!==t.Identifier&&W(I()),s=[At()],X(")"),{type:r.Property,key:n,value:Z(s,e),kind:"set"}):(X(":"),{type:r.Property,key:i,value:Nt(),kind:"init"});if(e.type!==t.EOF&&e.type!==t.Punctuator)return n=et(),X(":"),{type:r.Property,key:n,value:Nt(),kind:"init"};W(e)}function nt(){var e,t=[],n,o,u,f={},l=String;X("{");while(!$("}"))n=tt(),n.key.type===r.Identifier?o=n.key.name:o=l(n.key.value),u=n.kind==="init"?i.Data:n.kind==="get"?i.Get:i.Set,Object.prototype.hasOwnProperty.call(f,o)?(f[o]===i.Data?a&&u===i.Data?z({},s.StrictDuplicateProperty):u!==i.Data&&U({},s.AccessorDataProperty):u===i.Data?U({},s.AccessorDataProperty):f[o]&u&&U({},s.AccessorGetSet),f[o]|=u):f[o]=u,t.push(n),$("}")||X(",");return X("}"),{type:r.ObjectExpression,properties:t}}function rt(){var e,n=q(),i=n.type;if(i===t.Identifier)return{type:r.Identifier,name:I().value};if(i===t.StringLiteral||i===t.NumericLiteral)return a&&n.octal&&z(n,s.StrictOctalLiteral),fn(I());if(i===t.Keyword){if(J("this"))return I(),{type:r.ThisExpression};if(J("function"))return en()}return i===t.BooleanLiteral?(I(),n.value=n.value==="true",fn(n)):i===t.NullLiteral?(I(),n.value=null,fn(n)):$("[")?Y():$("{")?nt():$("(")?(I(),d.lastParenthesized=e=Ct(),X(")"),e):$("/")||$("/=")?fn(B()):W(I())}function it(){var e=[];X("(");if(!$(")"))while(f<h){e.push(Nt());if($(")"))break;X(",")}return X(")"),e}function st(){var e=I();return j(e)||W(e),{type:r.Identifier,name:e.value}}function ot(e){return{type:r.MemberExpression,computed:!1,object:e,property:st()}}function ut(e){var t,n;return X("["),t=Ct(),n={type:r.MemberExpression,computed:!0,object:e,property:t},X("]"),n}function at(e){return{type:r.CallExpression,callee:e,arguments:it()}}function ft(){var e;return V("new"),e={type:r.NewExpression,callee:ct(),arguments:[]},$("(")&&(e.arguments=it()),e}function lt(){var e,t;e=J("new"),t=e?ft():rt();while(f<h)if($("."))I(),t=ot(t);else if($("["))t=ut(t);else{if(!$("("))break;t=at(t)}return t}function ct(){var e,t;e=J("new"),t=e?ft():rt();while(f<h)if($("."))I(),t=ot(t);else{if(!$("["))break;t=ut(t)}return t}function ht(){var e=lt();return($("++")||$("--"))&&!R()&&(a&&e.type===r.Identifier&&k(e.name)&&U({},s.StrictLHSPostfix),G(e)||U({},s.InvalidLHSInAssignment),e={type:r.UpdateExpression,operator:I().value,argument:e,prefix:!1}),e}function pt(){var e,t;return $("++")||$("--")?(e=I(),t=pt(),a&&t.type===r.Identifier&&k(t.name)&&U({},s.StrictLHSPrefix),G(t)||U({},s.InvalidLHSInAssignment),t={type:r.UpdateExpression,operator:e.value,argument:t,prefix:!0},t):$("+")||$("-")||$("~")||$("!")?(t={type:r.UnaryExpression,operator:I().value,argument:pt()},t):J("delete")||J("void")||J("typeof")?(t={type:r.UnaryExpression,operator:I().value,argument:pt()},a&&t.operator==="delete"&&t.argument.type===r.Identifier&&z({},s.StrictDelete),t):ht()}function dt(){var e=pt();while($("*")||$("/")||$("%"))e={type:r.BinaryExpression,operator:I().value,left:e,right:pt()};return e}function vt(){var e=dt();while($("+")||$("-"))e={type:r.BinaryExpression,operator:I().value,left:e,right:dt()};return e}function mt(){var e=vt();while($("<<")||$(">>")||$(">>>"))e={type:r.BinaryExpression,operator:I().value,left:e,right:vt()};return e}function gt(){var e,t;return t=d.allowIn,d.allowIn=!0,e=mt(),d.allowIn=t,$("<")||$(">")||$("<=")||$(">=")?e={type:r.BinaryExpression,operator:I().value,left:e,right:gt()}:d.allowIn&&J("in")?(I(),e={type:r.BinaryExpression,operator:"in",left:e,right:gt()}):J("instanceof")&&(I(),e={type:r.BinaryExpression,operator:"instanceof",left:e,right:gt()}),e}function yt(){var e=gt();while($("==")||$("!=")||$("===")||$("!=="))e={type:r.BinaryExpression,operator:I().value,left:e,right:gt()};return e}function bt(){var e=yt();while($("&"))I(),e={type:r.BinaryExpression,operator:"&",left:e,right:yt()};return e}function wt(){var e=bt();while($("^"))I(),e={type:r.BinaryExpression,operator:"^",left:e,right:bt()};return e}function Et(){var e=wt();while($("|"))I(),e={type:r.BinaryExpression,operator:"|",left:e,right:wt()};return e}function St(){var e=Et();while($("&&"))I(),e={type:r.LogicalExpression,operator:"&&",left:e,right:Et()};return e}function xt(){var e=St();while($("||"))I(),e={type:r.LogicalExpression,operator:"||",left:e,right:St()};return e}function Tt(){var e,t,n;return e=xt(),$("?")&&(I(),t=d.allowIn,d.allowIn=!0,n=Nt(),d.allowIn=t,X(":"),e={type:r.ConditionalExpression,test:e,consequent:n,alternate:Nt()}),e}function Nt(){var e;return e=Tt(),K()&&(G(e)||U({},s.InvalidLHSInAssignment),a&&e.type===r.Identifier&&k(e.name)&&U({},s.StrictLHSAssignment),e={type:r.AssignmentExpression,operator:I().value,left:e,right:Nt()}),e}function Ct(){var e=Nt();if($(",")){e={type:r.SequenceExpression,expressions:[e]};while(f<h){if(!$(","))break;I(),e.expressions.push(Nt())}}return e}function kt(){var e=[],t;while(f<h){if($("}"))break;t=tn();if(typeof t=="undefined")break;e.push(t)}return e}function Lt(){var e;return X("{"),e=kt(),X("}"),{type:r.BlockStatement,body:e}}function At(){var e=I();return e.type!==t.Identifier&&W(e),{type:r.Identifier,name:e.value}}function Ot(e){var t=At(),n=null;return a&&k(t.name)&&z({},s.StrictVarName),e==="const"?(X("="),n=Nt()):$("=")&&(I(),n=Nt()),{type:r.VariableDeclarator,id:t,init:n}}function Mt(e){var t=[];while(f<h){t.push(Ot(e));if(!$(","))break;I()}return t}function _t(){var e;return V("var"),e=Mt(),Q(),{type:r.VariableDeclaration,declarations:e,kind:"var"}}function Dt(e){var t;return V(e),t=Mt(e),Q(),{type:r.VariableDeclaration,declarations:t,kind:e}}function Pt(){return X(";"),{type:r.EmptyStatement}}function Ht(){var e=Ct();return Q(),{type:r.ExpressionStatement,expression:e}}function Bt(){var e,t,n;return V("if"),X("("),e=Ct(),X(")"),t=Gt(),J("else")?(I(),n=Gt()):n=null,{type:r.IfStatement,test:e,consequent:t,alternate:n}}function jt(){var e,t,n;return V("do"),n=d.inIteration,d.inIteration=!0,e=Gt(),d.inIteration=n,V("while"),X("("),t=Ct(),X(")"),$(";")&&I(),{type:r.DoWhileStatement,body:e,test:t}}function Ft(){var e,t,n;return V("while"),X("("),e=Ct(),X(")"),n=d.inIteration,d.inIteration=!0,t=Gt(),d.inIteration=n,{type:r.WhileStatement,test:e,body:t}}function It(){var e=I();return{type:r.VariableDeclaration,declarations:Mt(),kind:e.value}}function qt(){var e,t,n,i,o,u,a;return e=t=n=null,V("for"),X("("),$(";")?I():(J("var")||J("let")?(d.allowIn=!1,e=It(),d.allowIn=!0,e.declarations.length===1&&J("in")&&(I(),i=e,o=Ct(),e=null)):(d.allowIn=!1,e=Ct(),d.allowIn=!0,J("in")&&(G(e)||U({},s.InvalidLHSInForIn),I(),i=e,o=Ct(),e=null)),typeof i=="undefined"&&X(";")),typeof i=="undefined"&&($(";")||(t=Ct()),X(";"),$(")")||(n=Ct())),X(")"),a=d.inIteration,d.inIteration=!0,u=Gt(),d.inIteration=a,typeof i=="undefined"?{type:r.ForStatement,init:e,test:t,update:n,body:u}:{type:r.ForInStatement,left:i,right:o,body:u,each:!1}}function Rt(){var e,n=null;return V("continue"),u[f]===";"?(I(),d.inIteration||U({},s.IllegalContinue),{type:r.ContinueStatement,label:null}):R()?(d.inIteration||U({},s.IllegalContinue),{type:r.ContinueStatement,label:null}):(e=q(),e.type===t.Identifier&&(n=At(),Object.prototype.hasOwnProperty.call(d.labelSet,n.name)||U({},s.UnknownLabel,n.name)),Q(),n===null&&!d.inIteration&&U({},s.IllegalContinue),{type:r.ContinueStatement,label:n})}function Ut(){var e,n=null;return V("break"),u[f]===";"?(I(),!d.inIteration&&!d.inSwitch&&U({},s.IllegalBreak),{type:r.BreakStatement,label:null}):R()?(!d.inIteration&&!d.inSwitch&&U({},s.IllegalBreak),{type:r.BreakStatement,label:null}):(e=q(),e.type===t.Identifier&&(n=At(),Object.prototype.hasOwnProperty.call(d.labelSet,n.name)||U({},s.UnknownLabel,n.name)),Q(),n===null&&!d.inIteration&&!d.inSwitch&&U({},s.IllegalBreak),{type:r.BreakStatement,label:n})}function zt(){var e,n=null;return V("return"),d.inFunctionBody||z({},s.IllegalReturn),u[f]===" "&&x(u[f+1])?(n=Ct(),Q(),{type:r.ReturnStatement,argument:n}):R()?{type:r.ReturnStatement,argument:null}:($(";")||(e=q(),!$("}")&&e.type!==t.EOF&&(n=Ct())),Q(),{type:r.ReturnStatement,argument:n})}function Wt(){var e,t;return a&&z({},s.StrictModeWith),V("with"),X("("),e=Ct(),X(")"),t=Gt(),{type:r.WithStatement,object:e,body:t}}function Xt(){var e,t=[],n;J("default")?(I(),e=null):(V("case"),e=Ct()),X(":");while(f<h){if($("}")||J("default")||J("case"))break;n=Gt();if(typeof n=="undefined")break;t.push(n)}return{type:r.SwitchCase,test:e,consequent:t}}function Vt(){var e,t,n;V("switch"),X("("),e=Ct(),X(")"),X("{");if($("}"))return I(),{type:r.SwitchStatement,discriminant:e};t=[],n=d.inSwitch,d.inSwitch=!0;while(f<h){if($("}"))break;t.push(Xt())}return d.inSwitch=n,X("}"),{type:r.SwitchStatement,discriminant:e,cases:t}}function $t(){var e;return V("throw"),R()&&U({},s.NewlineAfterThrow),e=Ct(),Q(),{type:r.ThrowStatement,argument:e}}function Jt(){var e;return V("catch"),X("("),$(")")||(e=Ct(),a&&e.type===r.Identifier&&k(e.name)&&z({},s.StrictCatchVariable)),X(")"),{type:r.CatchClause,param:e,guard:null,body:Lt()}}function Kt(){var e,t=[],n=null;return V("try"),e=Lt(),J("catch")&&t.push(Jt()),J("finally")&&(I(),n=Lt()),t.length===0&&!n&&U({},s.NoCatchOrFinally),{type:r.TryStatement,block:e,handlers:t,finalizer:n}}function Qt(){return V("debugger"),Q(),{type:r.DebuggerStatement}}function Gt(){var e=q(),n,i;e.type===t.EOF&&W(e);if(e.type===t.Punctuator)switch(e.value){case";":return Pt();case"{":return Lt();case"(":return Ht();default:}if(e.type===t.Keyword)switch(e.value){case"break":return Ut();case"continue":return Rt();case"debugger":return Qt();case"do":return jt();case"for":return qt();case"function":return Zt();case"if":return Bt();case"return":return zt();case"switch":return Vt();case"throw":return $t();case"try":return Kt();case"var":return _t();case"while":return Ft();case"with":return Wt();default:}return n=Ct(),n.type===r.Identifier&&$(":")?(I(),Object.prototype.hasOwnProperty.call(d.labelSet,n.name)&&U({},s.Redeclaration,"Label",n.name),d.labelSet[n.name]=!0,i=Gt(),delete d.labelSet[n.name],{type:r.LabeledStatement,label:n,body:i}):(Q(),{type:r.ExpressionStatement,expression:n})}function Yt(){var e,n=[],i,o,u,l,c,p,v;X("{");while(f<h){i=q();if(i.type!==t.StringLiteral)break;e=tn(),n.push(e);if(e.expression.type!==r.Literal)break;o=g(i.range[0]+1,i.range[1]-1),o==="use strict"?(a=!0,u&&U(u,s.StrictOctalLiteral)):!u&&i.octal&&(u=i)}l=d.labelSet,c=d.inIteration,p=d.inSwitch,v=d.inFunctionBody,d.labelSet={},d.inIteration=!1,d.inSwitch=!1,d.inFunctionBody=!0;while(f<h){if($("}"))break;e=tn();if(typeof e=="undefined")break;n.push(e)}return X("}"),d.labelSet=l,d.inIteration=c,d.inSwitch=p,d.inFunctionBody=v,{type:r.BlockStatement,body:n}}function Zt(){var e,t,n=[],i,o,u,l,c,p;V("function"),o=q(),e=At(),a?k(o.value)&&U(o,s.StrictFunctionName):k(o.value)?(u=o,l=s.StrictFunctionName):C(o.value)&&(u=o,l=s.StrictReservedWord),X("(");if(!$(")")){p={};while(f<h){o=q(),t=At(),a?(k(o.value)&&U(o,s.StrictParamName),Object.prototype.hasOwnProperty.call(p,o.value)&&U(o,s.StrictParamDupe)):u||(k(o.value)?(u=o,l=s.StrictParamName):C(o.value)?(u=o,l=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(p,o.value)&&(u=o,l=s.StrictParamDupe)),n.push(t),p[t.name]=!0;if($(")"))break;X(",")}}return X(")"),c=a,i=Yt(),a&&u&&U(u,l),a=c,{type:r.FunctionDeclaration,id:e,params:n,body:i}}function en(){var e,t=null,n,i,o,u=[],l,c,p;V("function"),$("(")||(e=q(),t=At(),a?k(e.value)&&U(e,s.StrictFunctionName):k(e.value)?(n=e,i=s.StrictFunctionName):C(e.value)&&(n=e,i=s.StrictReservedWord)),X("(");if(!$(")")){p={};while(f<h){e=q(),o=At(),a?(k(e.value)&&U(e,s.StrictParamName),Object.prototype.hasOwnProperty.call(p,e.value)&&U(e,s.StrictParamDupe)):n||(k(e.value)?(n=e,i=s.StrictParamName):C(e.value)?(n=e,i=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(p,e.value)&&(n=e,i=s.StrictParamDupe)),u.push(o),p[o.name]=!0;if($(")"))break;X(",")}}return X(")"),c=a,l=Yt(),a&&n&&U(n,i),a=c,{type:r.FunctionExpression,id:t,params:u,body:l}}function tn(){var e=q();if(e.type===t.Keyword)switch(e.value){case"const":case"let":return Dt(e.value);case"function":return Zt();default:return Gt()}if(e.type!==t.EOF)return Gt()}function nn(){var e,n=[],i,o,u;while(f<h){i=q();if(i.type!==t.StringLiteral)break;e=tn(),n.push(e);if(e.expression.type!==r.Literal)break;o=g(i.range[0]+1,i.range[1]-1),o==="use strict"?(a=!0,u&&U(u,s.StrictOctalLiteral)):!u&&i.octal&&(u=i)}while(f<h){e=tn();if(typeof e=="undefined")break;n.push(e)}return n}function rn(){var e;return a=!1,e={type:r.Program,body:nn()},e}function sn(e,t,n,r){m(typeof e=="number","Comment must have valid position");if(v.comments.length>0&&v.comments[v.comments.length-1].range[1]>e)return;v.comments.push({range:[e,t],type:n,value:r})}function on(){var e,t,n,r,i;e="",r=!1,i=!1;while(f<h){t=u[f];if(i)t=A(),f>=h?(i=!1,e+=t,sn(n,f,"Line",e)):S(t)?(i=!1,sn(n,f,"Line",e),t==="\r"&&u[f]==="\n"&&++f,++l,c=f,e=""):e+=t;else if(r)S(t)?(t==="\r"&&u[f+1]==="\n"?(++f,e+="\r\n"):e+=t,++l,++f,c=f,f>=h&&U({},s.UnexpectedToken,"ILLEGAL")):(t=A(),f>=h&&U({},s.UnexpectedToken,"ILLEGAL"),e+=t,t==="*"&&(t=u[f],t==="/"&&(e=e.substr(0,e.length-1),r=!1,++f,sn(n,f,"Block",e),e="")));else if(t==="/"){t=u[f+1];if(t==="/")n=f,f+=2,i=!0;else{if(t!=="*")break;n=f,f+=2,r=!0,f>=h&&U({},s.UnexpectedToken,"ILLEGAL")}}else if(E(t))++f;else{if(!S(t))break;++f,t==="\r"&&u[f]==="\n"&&++f,++l,c=f}}}function un(){var e=v.advance(),r,i;return e.type!==t.EOF&&(r=[e.range[0],e.range[1]],i=g(e.range[0],e.range[1]),v.tokens.push({type:n[e.type],value:i,range:r})),e}function an(){var e,t,n;return O(),e=f,t=v.scanRegExp(),v.tokens.length>0&&(n=v.tokens[v.tokens.length-1],n.range[0]===e&&n.type==="Punctuator"&&(n.value==="/"||n.value==="/=")&&v.tokens.pop()),v.tokens.push({type:"RegularExpression",value:t.literal,range:[e,f]}),t}function fn(e){return{type:r.Literal,value:e.value}}function ln(e){return{type:r.Literal,value:e.value,raw:g(e.range[0],e.range[1])}}function cn(e,t){return function(n){function i(e){return e.type===r.LogicalExpression||e.type===r.BinaryExpression}function s(n){i(n.left)&&s(n.left),i(n.right)&&s(n.right),e&&typeof n.range=="undefined"&&(n.range=[n.left.range[0],n.right.range[1]]),t&&typeof n.loc=="undefined"&&(n.loc={start:n.left.loc.start,end:n.right.loc.end})}return function(){var o,u,a;O(),u=[f,0],a={start:{line:l,column:f-c}},o=n.apply(null,arguments);if(typeof o!="undefined")return e&&(u[1]=f,o.range=u),t&&(a.end={line:l,column:f-c},o.loc=a),i(o)&&s(o),o.type===r.MemberExpression&&(typeof o.object.range!="undefined"&&(o.range[0]=o.object.range[0]),typeof o.object.loc!="undefined"&&(o.loc.start=o.object.loc.start)),o}}}function hn(){var e;v.comments&&(v.skipComment=O,O=on),v.raw&&(v.createLiteral=fn,fn=ln);if(v.range||v.loc)e=cn(v.range,v.loc),v.parseAdditiveExpression=vt,v.parseAssignmentExpression=Nt,v.parseBitwiseANDExpression=bt,v.parseBitwiseORExpression=Et,v.parseBitwiseXORExpression=wt,v.parseBlock=Lt,v.parseFunctionSourceElements=Yt,v.parseCallMember=at,v.parseCatchClause=Jt,v.parseComputedMember=ut,v.parseConditionalExpression=Tt,v.parseConstLetDeclaration=Dt,v.parseEqualityExpression=yt,v.parseExpression=Ct,v.parseForVariableDeclaration=It,v.parseFunctionDeclaration=Zt,v.parseFunctionExpression=en,v.parseLogicalANDExpression=St,v.parseLogicalORExpression=xt,v.parseMultiplicativeExpression=dt,v.parseNewExpression=ft,v.parseNonComputedMember=ot,v.parseNonComputedProperty=st,v.parseObjectProperty=tt,v.parseObjectPropertyKey=et,v.parsePostfixExpression=ht,v.parsePrimaryExpression=rt,v.parseProgram=rn,v.parsePropertyFunction=Z,v.parseRelationalExpression=gt,v.parseStatement=Gt,v.parseShiftExpression=mt,v.parseSwitchCase=Xt,v.parseUnaryExpression=pt,v.parseVariableDeclaration=Ot,v.parseVariableIdentifier=At,vt=e(v.parseAdditiveExpression),Nt=e(v.parseAssignmentExpression),bt=e(v.parseBitwiseANDExpression),Et=e(v.parseBitwiseORExpression),wt=e(v.parseBitwiseXORExpression),Lt=e(v.parseBlock),Yt=e(v.parseFunctionSourceElements),at=e(v.parseCallMember),Jt=e(v.parseCatchClause),ut=e(v.parseComputedMember),Tt=e(v.parseConditionalExpression),Dt=e(v.parseConstLetDeclaration),yt=e(v.parseEqualityExpression),Ct=e(v.parseExpression),It=e(v.parseForVariableDeclaration),Zt=e(v.parseFunctionDeclaration),en=e(v.parseFunctionExpression),St=e(v.parseLogicalANDExpression),xt=e(v.parseLogicalORExpression),dt=e(v.parseMultiplicativeExpression),ft=e(v.parseNewExpression),ot=e(v.parseNonComputedMember),st=e(v.parseNonComputedProperty),tt=e(v.parseObjectProperty),et=e(v.parseObjectPropertyKey),ht=e(v.parsePostfixExpression),rt=e(v.parsePrimaryExpression),rn=e(v.parseProgram),Z=e(v.parsePropertyFunction),gt=e(v.parseRelationalExpression),Gt=e(v.parseStatement),mt=e(v.parseShiftExpression),Xt=e(v.parseSwitchCase),pt=e(v.parseUnaryExpression),Ot=e(v.parseVariableDeclaration),At=e(v.parseVariableIdentifier);typeof v.tokens!="undefined"&&(v.advance=F,v.scanRegExp=B,F=un,B=an)}function pn(){typeof v.skipComment=="function"&&(O=v.skipComment),v.raw&&(fn=v.createLiteral);if(v.range||v.loc)vt=v.parseAdditiveExpression,Nt=v.parseAssignmentExpression,bt=v.parseBitwiseANDExpression,Et=v.parseBitwiseORExpression,wt=v.parseBitwiseXORExpression,Lt=v.parseBlock,Yt=v.parseFunctionSourceElements,at=v.parseCallMember,Jt=v.parseCatchClause,ut=v.parseComputedMember,Tt=v.parseConditionalExpression,Dt=v.parseConstLetDeclaration,yt=v.parseEqualityExpression,Ct=v.parseExpression,It=v.parseForVariableDeclaration,Zt=v.parseFunctionDeclaration,en=v.parseFunctionExpression,St=v.parseLogicalANDExpression,xt=v.parseLogicalORExpression,dt=v.parseMultiplicativeExpression,ft=v.parseNewExpression,ot=v.parseNonComputedMember,st=v.parseNonComputedProperty,tt=v.parseObjectProperty,et=v.parseObjectPropertyKey,rt=v.parsePrimaryExpression,ht=v.parsePostfixExpression,rn=v.parseProgram,Z=v.parsePropertyFunction,gt=v.parseRelationalExpression,Gt=v.parseStatement,mt=v.parseShiftExpression,Xt=v.parseSwitchCase,pt=v.parseUnaryExpression,Ot=v.parseVariableDeclaration,At=v.parseVariableIdentifier;typeof v.scanRegExp=="function"&&(F=v.advance,B=v.scanRegExp)}function dn(e){var t=e.length,n=[],r;for(r=0;r<t;++r)n[r]=e.charAt(r);return n}function vn(e,t){var n,r;r=String,typeof e!="string"&&!(e instanceof String)&&(e=r(e)),u=e,f=0,l=u.length>0?1:0,c=0,h=u.length,p=null,d={allowIn:!0,labelSet:{},lastParenthesized:null,inFunctionBody:!1,inIteration:!1,inSwitch:!1},v={},typeof t!="undefined"&&(v.range=typeof t.range=="boolean"&&t.range,v.loc=typeof t.loc=="boolean"&&t.loc,v.raw=typeof t.raw=="boolean"&&t.raw,typeof t.tokens=="boolean"&&t.tokens&&(v.tokens=[]),typeof t.comment=="boolean"&&t.comment&&(v.comments=[]),typeof t.tolerant=="boolean"&&t.tolerant&&(v.errors=[])),h>0&&typeof u[0]=="undefined"&&(e instanceof String&&(u=e.valueOf()),typeof u[0]=="undefined"&&(u=dn(e))),hn();try{n=rn(),typeof v.comments!="undefined"&&(n.comments=v.comments),typeof v.tokens!="undefined"&&(n.tokens=v.tokens),typeof v.errors!="undefined"&&(n.errors=v.errors)}catch(i){throw i}finally{pn(),v={}}return n}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},n={},n[t.BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",r={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},i={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},o={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},typeof "esprima"[0]=="undefined"&&(g=function(t,n){return u.slice(t,n).join("")}),e.version="1.0.0-dev",e.parse=vn,e.Syntax=function(){var e,t={};typeof Object.create=="function"&&(t=Object.create(null));for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return typeof Object.freeze=="function"&&Object.freeze(t),t}()})(typeof exports=="undefined"?esprima={}:exports),function(){var Box,DICT_FLAG,DictFlag,FunctionCondition,HIDDEN_VAR_PREFIX,Program,Rule,Tin,Var,Variable,backtrack,bind,bind_tins,boxit,dir,extern,fulltest,g_hidden_var_counter,get_tin,gettest,internal,isHiddenVar,isarray,isbool,isfunc,isnum,isobj,isstr,isundef,isvaluetype,len,log,parse,parsetest,rollback,runtests,str,toJson,tryFunctionCondition,tryUnifyCondition,unboxit,unify,unifyfailtest,unifytest,_unify,__slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};log=function(e){return console.log(e)},dir=function(e){return console.dir(e)},len=function(e){return e.length},typeof exports=="undefined"&&(window.JSUnify={}),extern=function(e,t){return typeof exports=="undefined"?window.JSUnify[e]=t:exports[e]=t},typeof exports=="undefined"?window.JSUnify.internal={}:exports.internal={},internal=function(e,t){return typeof exports=="undefined"?window.JSUnify.internal[e]=t:exports.internal[e]=t},str=function(e){return typeof e=="undefined"?"undefined":e===null?"null":e.toString()},isundef=function(e){return typeof e=="undefined"},isbool=function(e){return typeof e=="boolean"},isarray=function(e){return e!=null&&Array.isArray(e)},isstr=function(e){return typeof e=="string"},isnum=function(e){return typeof e=="number"},isobj=function(e){return e!==null&&!isarray(e)&&typeof e=="object"},isvaluetype=function(e){return isbool(e)||isstr(e)||isnum(e)},isfunc=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},toJson=function(e){var t;return isarray(e)?"["+function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(toJson(t));return i}().join(",")+"]":e instanceof Box||e instanceof Tin||e instanceof Variable||e instanceof DictFlag?str(e):isobj(e)?"{"+function(){var n;n=[];for(t in e)n.push(t+":"+toJson(e[t]));return n}().join(",")+"}":isstr(e)?'"'+e+'"':str(e)},DictFlag=function(){function e(){}return e.prototype.toString=function(){return"new DictFlag()"},e}(),DICT_FLAG=new DictFlag,Box=function(){function e(e){if(!isvaluetype(e)&&e!==null)throw"Can only box value types, not "+toJson(e);this.value=e}return e.prototype.toString=function(){return"new Box("+toJson(this.value)+")"},e}(),g_hidden_var_counter=1,HIDDEN_VAR_PREFIX="__B3qgfO__",isHiddenVar=function(e){return e.slice(0,HIDDEN_VAR_PREFIX.length)===HIDDEN_VAR_PREFIX},Variable=function(){function e(e){e==="_"?(this.name=HIDDEN_VAR_PREFIX+g_hidden_var_counter,g_hidden_var_counter+=1):this.name=e}return e.prototype.isHiddenVar=function(){return isHiddenVar(this.name)},e.prototype.toString=function(){return"Var("+toJson(this.name)+")"},e}(),Var=function(e){return new Variable(e)},Tin=function(){function e(e,t,n){this.node=t!=null?t:null,this.varlist=isobj(n)?n:null,this.chainlength=1,this.name=e}return e.prototype.end_of_chain=function(){var t;t=this;while(t.varlist instanceof e)t=t.varlist;return t},e.prototype.isfree=function(){var e;return e=this.end_of_chain(),e.node===null&&e.varlist===null},e.prototype.isHiddenVar=function(){return isHiddenVar(this.name)},e.prototype.toString=function(){return"new Tin("+toJson(this.name)+", "+toJson(this.node)+", "+toJson(this.varlist)+")"},e.prototype.get=function(e){var t,n;n=this.varlist[e],n!==null&&n!==void 0&&(n=n.end_of_chain());if(n==null)throw"Variable "+e+" not in this tin";if(n.node==null||n.node===null)return new Var(n.name);if(n.node instanceof Box)return unboxit(n.node,n.varlist);if(n.node instanceof Var)return unboxit(n.node,n.varlist);if(isarray(n.node))return function(){var e,r,i,s;i=n.node,s=[];for(e=0,r=i.length;e<r;e++)t=i[e],s.push(unboxit(t,n.varlist));return s}();throw"Unknown type in get"},e.prototype.get_all=function(){var e,t;e={};for(t in this.varlist)isHiddenVar(t)||(e[t]=this.get(t));return e},e.prototype.unparse=function(){return unboxit(this.node)},e}(),boxit=function(e,t){var n,r,i;if(e instanceof Variable)return t!=null&&(t[e.name]=new Tin(e.name,null,null)),e;if(e instanceof Box)return e;if(isarray(e))return function(){var n,i,s;s=[];for(n=0,i=e.length;n<i;n++)r=e[n],s.push(boxit(r,t));return s}();if(isobj(e)){n=[];for(i in e)n.push([boxit(i,t),boxit(e[i],t)]);return n.push(DICT_FLAG),n.sort()}if(isvaluetype(e||e===null))return new Box(e);throw"Don't understand the type of elem"},unboxit=function(e,t){var n,r,i,s,o,u,a;if(isarray(e)){if(e[e.length-1]===DICT_FLAG){r=new Object,a=e.slice(0,e.length-1);for(o=0,u=a.length;o<u;o++)n=a[o],r[unboxit(n[0])]=unboxit(n[1]);return r}return function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)i=e[t],r.push(unboxit(i));return r}()}if(e instanceof Box)return e.value;if(e instanceof Variable){if(t!==void 0){try{s=get_tin(t,e)}catch(f){return e}return unboxit(s.node,s.varlist)}return e}throw"Unrecognized type '"+typeof e+"' in unboxit"},parse=function(e){var t,n;return t={},n=boxit(e,t),new Tin(null,n,t)},get_tin=function(e,t){if(!t instanceof Variable)throw"Node must be a Var to get_tin";if((e!=null?e[t.name]:void 0)!=null)return e[t.name];throw"Couldn't find node "+t.name+" in varlist "+e},bind=function(e,t,n,r){return e=e.end_of_chain(),e.isfree()?(e.node=t,e.varlist=n,r.push(function(){return e.node=null,e.varlist=null,e.chainlength=1})):!1},bind_tins=function(e,t,n){return!e.isfree()&&!t.isfree()?!1:e.isfree()&&!t.isfree()?bind(e,t.node,t.varlist,n):!e.isfree()&&t.isfree()?bind(t,e.node,e.varlist,n):t.chainlength<e.chainlength?(t.chainlength+=1,bind(t,null,e,n)):(e.chainlength+=1,bind(e,null,t,n))},_unify=function(e,t,n,r,i){var s,o,u,a,f,l,c;i==null&&(i=[]);if(e===void 0&&n===void 0)return!0;if(e===null&&n===null)return!0;if(e===null||n===null)return!1;if(e instanceof Variable&&n instanceof Variable){u=get_tin(t,e),a=get_tin(r,n);if(!bind_tins(u,a,i)&&!_unify(u.node,u.varlist,a.node,a.varlist,i))return!1}else if(e instanceof Variable){u=get_tin(t,e);if(!bind(u,n,r,i)&&!_unify(u.node,u.varlist,n,r,i))return!1}else if(n instanceof Variable){a=get_tin(r,n);if(!bind(a,e,t,i)&&!_unify(a.node,a.varlist,e,t,i))return!1}else{if(e instanceof Box&&n instanceof Box&&isvaluetype(e.value)&&isvaluetype(n.value))return e.value===n.value;if(isarray(e)&&isarray(n)){if(e.length!==n.length)return!1;c=function(){var t,n,r;r=[];for(o=t=0,n=e.length;0<=n?t<=n:t>=n;o=0<=n?++t:--t)r.push(o);return r}();for(f=0,l=c.length;f<l;f++){s=c[f];if(!_unify(e[s],t,n[s],r,i))return!1}}}return!0},unify=function(e,t,n){var r;return n==null&&(n=[]),r=!0,e=e instanceof Tin?e:parse(e),t=t instanceof Tin?t:parse(t),r=_unify(e.node,e.varlist,t.node,t.varlist,n),r===!1?null:[e,t]},rollback=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(t());return i},extern("parse",parse),extern("unify",unify),extern("Var",Var),internal("Tin",Tin),internal("Box",Box),internal("DictFlag",DictFlag),internal("toJson",toJson),internal("Variable",Variable),extern("rollback",rollback),Program=function(){function e(){this.rules=[]}return e.prototype.run=function(e){return e=new Rule(e),backtrack(e,this.rules)},e.prototype.rule=function(){var e,t;return t=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],this.rules.push(function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t),s=typeof i;return s=="object"||s=="function"?i||r:r}(Rule,[t].concat(__slice.call(e)),function(){})),this},e.prototype.iff=function(e){var t;if(this.rules.length===0)throw"iff is invalid in this context. A rule must be created first!";return t=this.rules[this.rules.length-1],t.iff(e),this},e.prototype.load=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)t=e[n],this.rules.push(t);return this},e}(),Rule=function(){function e(){var e,t,n,r,i;n=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],this.fact=n,this.tin=parse(n),this.conditions=[];for(r=0,i=t.length;r<i;r++)e=t[r],this.iff(e)}return e.prototype.iff=function(e){var t,n,r,i,s;isfunc(e)?e=new FunctionCondition(e):e=parse(e);if(this.conditions.length===0){t={},i=this.tin.varlist;for(n in i)r=i[n],t[n]=r}else t=this.conditions[0].varlist;s=e.varlist;for(n in s)r=s[n],t[n]===void 0&&(t[n]=r);return e.varlist=t,this.conditions.push(e),this},e}(),FunctionCondition=function(e){function t(e){this.func=e,t.__super__.constructor.call(this,null,null,{})}return __extends(t,e),t.prototype.bind=function(e,t){var n;return n=this.varlist[e].end_of_chain(),n.isfree()?(n.node=boxit(t,{}),!0):unboxit(n.node)===t?!0:!1},t}(Tin),backtrack=function(e,t){var n,r,i,s,o;e instanceof Rule&&(e=[e.tin]),n=e.pop();for(s=0,o=t.length;s<o;s++){i=t[s],n instanceof FunctionCondition?r=tryFunctionCondition(n,i,e,t):r=tryUnifyCondition(n,i,e,t);if(r!==null)return r}return e.push(n),null},tryUnifyCondition=function(e,t,n,r){var i,s,o,u,a;i=[];if(unify(e,t.tin,i)){t.conditions.reverse(),a=t.conditions;for(o=0,u=a.length;o<u;o++)s=a[o],n.push(s);t.conditions.reverse();if(n.length===0)return e;if(backtrack(n,r)!==null)return e}return rollback(i),null},tryFunctionCondition=function(e,t,n,r){return e.func(e)?e:null},extern("Rule",Rule),extern("Program",Program),parsetest=function(e){return deepEqual(parse(e).unparse(),e,"parse")},unifytest=function(e,t){return ok(unify(e,t),"unify")},unifyfailtest=function(e,t){return ok(!unify(e,t),"unify fail")},gettest=function(e,t){var n,r;r=[];for(n in t)t[n]instanceof Var?r.push(ok(e.get(n)instanceof Var,"get("+n+") = Var()")):r.push(deepEqual(e.get(n),t[n],"get("+n+") == "+toJson(t[n])));return r},fulltest=function(e,t,n,r){return parsetest(e),parsetest(t),e=parse(e),t=parse(t),unifytest(e,t),gettest(e,n),gettest(t,r)},runtests=function(){var prop;for(prop in JSUnify)window[prop]=JSUnify[prop];for(prop in JSUnify.internal)window[prop]=JSUnify.internal[prop];return module("full tests"),test("empty obj {} -> {}",function(){return fulltest({},{},{},{})}),test("null test [null] -> [null]",function(){return fulltest([null],[null],{},{})}),test("variable equal [X] -> [1]",function(){return fulltest([Var("a")],[1],{a:1},{})}),test("variable equal [X,X] -> [1,1]",function(){return fulltest([Var("a"),Var("a")],[1,1],{a:1},{})}),test("variable equal [[1,2,3]] -> [y]",function(){return fulltest([[1,2,3]],[Var("y")],{},{y:[1,2,3]})}),test("variable equal [[1,2,x],x] -> [y,3]",function(){return fulltest([[1,2,Var("x")],Var("x")],[Var("y"),3],{x:3},{y:[1,2,3]})}),test("unbound variable [y]->[x]",function(){return fulltest([Var("y")],[Var("x")],{y:Var("x")},{x:Var("x")})}),test("variable equal [1,X,X] -> [Z,Z,1]",function(){return fulltest([1,Var("X"),Var("X")],[Var("Z"),Var("Z"),1],{X:1},{Z:1})}),module("unify fail tests"),test("variable equal [X,X] -> [1,2]",function(){return unifyfailtest([Var("a"),Var("a")],[1,2])}),test("variable unequal [1,3,2] -> [Y,Y,2]",function(){return unifyfailtest([1,3,2],[Var("y"),Var("y"),2])}),test("variable unequal [1,X,X] -> [Z,Z,3]",function(){return unifyfailtest([1,Var("X"),Var("X")],[Var("Z"),Var("Z"),3])}),module("misc"),test("simple black box unify test",function(){return ok(unify({a:[1,2,3]},{a:[1,Var("b"),3]}))}),module("unify"),test("variable equal [X,2,X] -> [1,2,1]",function(){var e;return e=unify([Var("x"),2,Var("x")],[1,2,1]),ok(e),deepEqual(e[0].get_all(),{x:1})}),module("extract"),test("simple variable extraction test",function(){var e;return e=unify({a:[1,2,3]},{a:[1,Var("b"),3]}),ok(e[1].get("b")===2)}),test("extract all variables test",function(){var e;return e=unify({a:[1,2,3]},{a:[1,Var("b"),3]}),deepEqual(e[1].get_all(),{b:2})}),module("hidden variables"),test("create hidden variable",function(){return ok(Var("_").isHiddenVar())}),test("simple hidden variable [_,X] -> [1,2]",function(){return fulltest([Var("_"),Var("x")],[1,2],{x:2},{})}),test("multiple hidden variables [_,_,X] -> [1,2,3]",function(){return fulltest([Var("_"),Var("_"),Var("x")],[1,2,3],{x:3},{})}),test("[[1,_,3],[1,2,3]] -> [X,X]",function(){return fulltest([[1,Var("_"),3],[1,2,3]],[Var("x"),Var("x")],{},{x:[1,2,3]})}),module("rollback"),test("rollback successful unification",function(){var changes,cobj1,cobj2,obj1,obj2;return obj1=[1,2,3],obj2=[Var("A"),Var("B"),3],parsetest(obj1),parsetest(obj2),obj1=parse(obj1),obj2=parse(obj2),cobj1=eval(obj1.toString()),cobj2=eval(obj2.toString()),changes=[],ok(unify(obj1,obj2,changes),"unify"),rollback(changes),ok(obj1.toString()===cobj1.toString()),ok(obj2.toString()===cobj2.toString())})},extern("RunJSUnifyUnitTests",runtests),runtests=function(){return test("placeholder",function(){return ok(!0)}),module("Backtrack"),test("Snowy Chicago",function(){return ok((new Program).rule({snowy:Var("X")},{cold:[Var("X"),Var("Y")]},{rainy:[Var("X"),Var("Y")]}).rule({rainy:["cinci",1]}).rule({rainy:["chicago",1]}).rule({cold:["chicago",1]}).run({snowy:Var("P")}).get("P")==="chicago")}),test("Is Int",function(){var e;return e=(new Program).rule({number:4.4}).rule({number:9}).rule({"int":Var("X")},{number:Var("X")},function(e){var t;return t=e.get("X"),parseInt(t)===t}),ok(e.run({"int":Var("Y")}).get("Y")===9)}),test("N1 Is N-1",function(){var e;return e=(new Program).rule({number:12}).rule({minus:Var("N1")},{number:Var("N")},function(e){var t;return t=e.get("N"),e.bind("N1",t-1)}),ok(e.run({minus:Var("Q")}).get("Q")===11)}),test("Illegal rebind",function(){var e;return e=(new Program).rule({number:12}).rule({minus:Var("N1")},{number:Var("N")},function(e){var t;return t=e.get("N"),e.bind("N",t+1)}),ok(e.run({minus:Var("Q")})===null)}),test("Legal rebind - values equal",function(){var e;return e=(new Program).rule({number:12}).rule({minus:Var("N")},{number:Var("N")},function(e){var t;return t=e.get("N"),e.bind("N",t)}),ok(e.run({minus:Var("Q")}).get("Q")===12)}),test("Deriv 4 * x + 7 * x",function(){var e,t,n,r,i,s,o,u,a;return e=Var("C"),u=Var("X"),s=Var("U"),t=Var("DU"),o=Var("V"),n=Var("DV"),r=Var("N"),i=Var("N1"),a=(new Program).rule({deriv:[e,u,0]},function(e){return isnum(e.get("C"))}).rule({deriv:[u,u,1]}).rule({deriv:[{mult:[e,s]},u,{mult:[e,t]}]},function(e){return isnum(e.get("C"))},{deriv:[s,u,t]}).rule({deriv:[{mult:[s,o]},u,{add:[{mult:[s,n]},{mult:[o,t]}]}]},{deriv:[s,u,t]},{deriv:[o,u,n]}).rule({deriv:[{add:[s,o]},u,{add:[t,n]}]},{deriv:[s,u,t]},{deriv:[o,u,n]}).rule({deriv:[{sub:[s,o]},u,{sub:[t,n]}]},{deriv:[s,u,t]},{deriv:[o,u,n]}),console.log(a.run({deriv:[{add:[{mult:[7,"x"]},{mult:[4,"x"]}]},"x",Var("DR")]})),ok(!0)}),test("Family Tree",function(){var e,t,n;return n=[],n.push(new Rule({male:["james1"]})),n.push(new Rule({male:["charles2"]})),n.push(new Rule({male:["charles1"]})),n.push(new Rule({male:["james2"]})),n.push(new Rule({male:["george1"]})),n.push(new Rule({female:["catherine"]})),n.push(new Rule({female:["elizabeth"]})),n.push(new Rule({female:["sophia"]})),n.push(new Rule({parent:["charles1","james1"]})),n.push(new Rule({parent:["elizabeth","james1"]})),n.push(new Rule({parent:["charles2","charles1"]})),n.push(new Rule({parent:["catherine","charles1"]})),n.push(new Rule({parent:["james2","charles1"]})),n.push(new Rule({parent:["sophia","elizabeth"]})),n.push(new Rule({parent:["george1","sophia"]})),n.push(new Rule({parent:["george1","james1"]})),n.push(new Rule({father:[Var("Kid"),Var("Dad")]},{male:[Var("Dad")]},{parent:[Var("Kid"),Var("Dad")]})),n.push(new Rule({mother:[Var("Kid"),Var("Mom")]},{female:[Var("Mom")]},{parent:[Var("Kid"),Var("Mom")]})),e=(new Program).load(n),t=e.run({parent:["charles1","george1"]}),ok(t===null),t=e.run({parent:["elizabeth",Var("X")]}),ok(t!==null),ok(t.get("X")==="james1"),t=e.run({mother:["george1",Var("Mom")]}),ok(t!==null),ok(t.get("Mom")==="sophia"),t=e.run({father:["george1",Var("Dad")]}),ok(t!==null),ok(t.get("Dad")==="james1")})},extern("RunJSUnifyLangUnitTests",runtests)}.call(this)